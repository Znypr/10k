RewriteEngine On
RewriteBase /

# 1. PRIORITY: If the file actually exists (like style.css), SERVE IT and stop.
# This prevents the server from trying to turn your CSS into HTML.
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# 2. SECURITY: Prevent listing folders
Options -Indexes

# 3. CONTACT/LEGAL: Route specific legal pages
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{DOCUMENT_ROOT}/$1.html -f
RewriteRule ^(contact/.+)$ $1.html [L]

# 4. SPA ROUTING: Route virtual tabs to index.html
# Only fires if the file didn't exist (Step 1).
RewriteRule ^(home|gear|socials|partners|merch|contact)$ index.html [L]